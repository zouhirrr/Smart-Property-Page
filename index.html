<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙˆÙ„Ø¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„ | Serverless QR</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body { font-family: 'Tajawal', sans-serif; background: #0f172a; color: white; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .editor { background: #1e293b; padding: 30px; border-radius: 20px; width: 100%; max-width: 500px; border: 1px solid #334155; }
        
        h2 { color: #38bdf8; margin-top: 0; text-align: center; }
        .note { font-size: 12px; color: #94a3b8; text-align: center; margin-bottom: 20px; }

        input, select { width: 100%; padding: 12px; margin: 8px 0; background: #0f172a; border: 1px solid #334155; color: white; border-radius: 8px; outline: none; }
        
        .btn-add { background: #38bdf8; color: #000; width: 100%; padding: 15px; border: none; border-radius: 10px; font-weight: 900; cursor: pointer; margin-top: 15px; font-size: 16px; }
        .btn-add:hover { background: #0ea5e9; }

        #qr-container { display: none; margin-top: 30px; background: white; padding: 20px; border-radius: 15px; text-align: center; }
        #qr-code { display: flex; justify-content: center; }
    </style>
</head>
<body>

<div class="editor">
    <h2>âš¡ Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯</h2>
    <p class="note">Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¶ØºØ· ÙƒÙˆØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ HTML Ø¯Ø§Ø®Ù„ Ø§Ù„Ù€ QR Ù…Ø¨Ø§Ø´Ø±Ø©!</p>

    <label>Ø§Ø³Ù… Ø¨Ø±Ø§Ù†Ø¯Ùƒ / Ø´Ø±ÙƒØªÙƒ</label>
    <input type="text" id="siteName" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø®Ø¨Ø©">

    <label>Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ÙØ¶Ù„</label>
    <select id="bgColor">
        <option value="#000000">Ø£Ø³ÙˆØ¯ ÙØ®Ù…</option>
        <option value="#1a237e">Ø£Ø²Ø±Ù‚ Ù…Ù„ÙƒÙŠ</option>
        <option value="#b91c1c">Ø£Ø­Ù…Ø± Ø¬Ø±ÙŠØ¡</option>
        <option value="#064e3b">Ø£Ø®Ø¶Ø± ØºØ§Ù…Ù‚</option>
    </select>

    <label>Ø±Ø§Ø¨Ø· ÙˆØ§ØªØ³Ø§Ø¨</label>
    <input type="text" id="link1" placeholder="https://wa.me/966...">
    
    <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ / Ø§Ù„Ù…ØªØ¬Ø±</label>
    <input type="text" id="link2" placeholder="https://...">

    <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ù„ÙˆÙƒÙŠØ´Ù† (Ø¬ÙˆØ¬Ù„ Ù…Ø§Ø¨)</label>
    <input type="text" id="link3" placeholder="https://maps.google...">

    <button class="btn-add" onclick="generateMicroSite()">Ø§ØµÙ†Ø¹ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ø¶ØºØ·Ù‡ ÙÙŠ QR ğŸš€</button>

    <div id="qr-container">
        <div id="qr-code"></div>
        <p style="color:black; font-weight:bold; margin-top:10px;">Ø§Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆØ¯ ÙˆØ´Ø§Ù‡Ø¯ Ø§Ù„Ø³Ø­Ø±!</p>
        <p style="color:#666; font-size:11px;">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ÙƒÙˆØ¯ ÙƒØ«ÙŠÙ Ù„Ø£Ù†Ù‡ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙƒØ§Ù…Ù„Ø§Ù‹</p>
    </div>
</div>

<script>
function generateMicroSite() {
    const name = document.getElementById('siteName').value || "Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø´Ø®ØµÙŠ";
    const bg = document.getElementById('bgColor').value;
    const l1 = document.getElementById('link1').value;
    const l2 = document.getElementById('link2').value;
    const l3 = document.getElementById('link3').value;

    // Ù‡Ù†Ø§ Ø§Ù„Ø³Ø­Ø±: Ù†Ø­Ù† Ù†ÙƒØªØ¨ ÙƒÙˆØ¯ HTML ØµØºÙŠØ± Ø¬Ø¯Ø§Ù‹ (Minified)
    // ÙˆÙ†Ø³ØªØ®Ø¯Ù… Emoji ÙƒØ£ÙŠÙ‚ÙˆÙ†Ø§Øª Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø­Ø©
    let htmlContent = `
    <!DOCTYPE html>
    <html dir="rtl">
    <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
    <style>body{background:${bg};color:#fff;font-family:sans-serif;text-align:center;padding:40px 20px;display:flex;flex-direction:column;justify-content:center;min-height:90vh}h1{margin-bottom:30px;font-size:28px}.btn{background:#fff;color:#000;display:block;padding:15px;margin:10px 0;text-decoration:none;border-radius:50px;font-weight:bold;font-size:18px;box-shadow:0 4px 10px rgba(0,0,0,0.2)}.btn:hover{transform:scale(1.02)}</style>
    </head>
    <body>
        <h1>${name} âœ¨</h1>
        ${l1 ? `<a class="btn" href="${l1}">ğŸ’¬ ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨</a>` : ''}
        ${l2 ? `<a class="btn" href="${l2}">ğŸŒ Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</a>` : ''}
        ${l3 ? `<a class="btn" href="${l3}">ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ</a>` : ''}
        <p style="margin-top:30px;font-size:12px;opacity:0.6">ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¹Ø¨Ø± Qrestige</p>
    </body>
    </html>
    `;

    // Ø¶ØºØ· Ø§Ù„ÙƒÙˆØ¯ ÙˆØ¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø¯Ø© Ù„ØªÙ‚Ù„ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ù€ QR
    htmlContent = htmlContent.replace(/\s+/g, ' ').trim();

    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ø¥Ù„Ù‰ ØµÙŠØºØ© Data URI Ø§Ù„ØªÙŠ ØªÙÙ‡Ù…Ù‡Ø§ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª
    const dataURI = "data:text/html;charset=utf-8," + encodeURIComponent(htmlContent);

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø·ÙˆÙ„ (QR Code Ù„Ù‡ Ø³Ø¹Ø© Ù…Ø­Ø¯Ø¯Ø©)
    if (dataURI.length > 2500) {
        alert("Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ«ÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹! Ø­Ø§ÙˆÙ„ ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·.");
        return;
    }

    const qrDiv = document.getElementById("qr-code");
    qrDiv.innerHTML = "";

    new QRCode(qrDiv, {
        text: dataURI,
        width: 250,
        height: 250,
        colorDark : "#000000",
        colorLight : "#ffffff",
        correctLevel : QRCode.CorrectLevel.L // L allows for more data density
    });

    document.getElementById('qr-container').style.display = 'block';
}
</script>

</body>
</html>
