<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Qrestige Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --main: #1a237e; --accent: #c6a700; --bg: #f4f7f6; --white: #ffffff; }
        * { box-sizing: border-box; font-family: 'Tajawal', sans-serif; transition: 0.3s; }
        body { background: var(--bg); margin: 0; overflow-x: hidden; }

        /* ØªØµÙØ­ Ø§Ù„ØµÙØ­Ø§Øª (Ù„Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø·) */
        .page { display: none; }
        .page.active { display: block; }
        .nav-demo { position: fixed; top: 10px; left: 10px; z-index: 9999; background: #000; padding: 5px; border-radius: 5px; }
        .nav-demo button { font-size: 10px; cursor: pointer; background: #333; color: white; border: none; padding: 5px 10px; border-radius: 3px; }

        /* --- ØªØµÙ…ÙŠÙ… ØµÙØ­Ø© Ø§Ù„Ø¹Ù‚Ø§Ø± (Ù„Ù„Ø¹Ù…ÙŠÙ„) --- */
        .property-page { padding-bottom: 100px; }
        .hero { width: 100%; height: 300px; background: url('https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=800') center/cover; border-radius: 0 0 30px 30px; position: relative; }
        .price-float { position: absolute; bottom: -20px; right: 20px; background: var(--accent); color: #000; padding: 12px 25px; border-radius: 15px; font-weight: 900; box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .content { padding: 40px 20px 20px; }
        .specs { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 20px 0; }
        .spec-box { background: white; padding: 15px; border-radius: 15px; text-align: center; border: 1px solid #eee; }
        .actions { position: fixed; bottom: 0; width: 100%; background: white; padding: 20px; display: flex; gap: 10px; box-shadow: 0 -5px 20px rgba(0,0,0,0.05); }
        .btn-wa { flex: 1; background: #25D366; color: white; text-align: center; padding: 15px; border-radius: 12px; text-decoration: none; font-weight: 900; }

        /* --- ØªØµÙ…ÙŠÙ… Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„) --- */
        .admin-page { padding: 30px; max-width: 1000px; margin: auto; }
        .admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .card { background: white; padding: 20px; border-radius: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .chart-box { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
    </style>
</head>
<body>

    <div class="nav-demo">
        <button onclick="showPage('property-view')">Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù‚Ø§Ø± (Ø¬ÙˆØ§Ù„)</button>
        <button onclick="showPage('admin-view')">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Ø¥Ø¯Ø§Ø±Ø©)</button>
    </div>

    <div id="property-view" class="page active">
        <div class="property-page">
            <div class="hero">
                <div class="price-float">2,450,000 Ø±.Ø³</div>
            </div>
            <div class="content">
                <h1 style="color: var(--main); margin: 0;">ÙÙŠÙ„Ø§ Ø§Ù„Ù†Ø±Ø¬Ø³ Ø§Ù„Ù…ÙˆØ¯Ø±Ù†</h1>
                <p style="color: #888;">ğŸ“ Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</p>
                
                <div class="specs">
                    <div class="spec-box"><strong>400Ù…</strong><br><span>Ù…Ø³Ø§Ø­Ø©</span></div>
                    <div class="spec-box"><strong>5</strong><br><span>ØºØ±Ù</span></div>
                    <div class="spec-box"><strong>4</strong><br><span>Ø­Ù…Ø§Ù…Ø§Øª</span></div>
                </div>

                <h3>Ø§Ù„ÙˆØµÙ</h3>
                <p style="color: #555; line-height: 1.6;">ÙÙŠÙ„Ø§ ÙØ§Ø®Ø±Ø© Ø¨ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„Ø±ÙØ§Ù‡ÙŠØ©. Ù…Ø¬Ù‡Ø²Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù…Ø§Ø±Øª Ù‡ÙˆÙ… ÙˆØªÙƒÙŠÙŠÙ Ù…Ø±ÙƒØ²ÙŠ.</p>
            </div>
            <div class="actions">
                <a href="https://wa.me/966500000000" class="btn-wa" onclick="logAction('WhatsApp')">ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a>
            </div>
        </div>
    </div>

    <div id="admin-view" class="page">
        <div class="admin-page">
            <div class="admin-header">
                <h1 style="color: var(--main);">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ©</h1>
                <button onclick="resetStats()" style="background:red; color:white; border:none; padding:10px; border-radius:5px; cursor:pointer;">ØªØµÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            </div>

            <div class="stats-grid">
                <div class="card">
                    <span style="color:#666">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</span>
                    <h2 id="total-views" style="font-size:35px; margin:10px 0; color:var(--main);">0</h2>
                </div>
                <div class="card">
                    <span style="color:#666">Ù†Ù‚Ø±Ø§Øª Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</span>
                    <h2 id="wa-clicks" style="font-size:35px; margin:10px 0; color:#25D366;">0</h2>
                </div>
                <div class="card">
                    <span style="color:#666">Ù†Ø³Ø¨Ø© Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…</span>
                    <h2 id="conversion-rate" style="font-size:35px; margin:10px 0; color:var(--accent);">0%</h2>
                </div>
            </div>

            <div class="chart-box">
                <h3>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù„Ø­Ø¸ÙŠ</h3>
                <canvas id="myChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        // --- Ù…Ø­Ø±Ùƒ Ø§Ù„Ù†Ø¸Ø§Ù… (The Engine) ---

        // 1. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ù‚Ù„
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            if(pageId === 'admin-view') updateAdminStats();
        }

        // 2. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ÙŠÙØ­Ø§ÙƒÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø³ÙŠØ±ÙØ±)
        function logAction(type) {
            let stats = JSON.parse(localStorage.getItem('qrestige_stats') || '{"views":0, "wa":0}');
            if(type === 'view') stats.views += 1;
            if(type === 'WhatsApp') stats.wa += 1;
            localStorage.setItem('qrestige_stats', JSON.stringify(stats));
        }

        // 3. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        function updateAdminStats() {
            let stats = JSON.parse(localStorage.getItem('qrestige_stats') || '{"views":0, "wa":0}');
            document.getElementById('total-views').innerText = stats.views;
            document.getElementById('wa-clicks').innerText = stats.wa;
            
            let rate = stats.views > 0 ? ((stats.wa / stats.views) * 100).toFixed(1) : 0;
            document.getElementById('conversion-rate').innerText = rate + "%";

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„Ù„ØªÙˆØ¶ÙŠØ­
            myChart.data.datasets[0].data = [stats.views, stats.wa, stats.views * 0.5, stats.wa * 1.2];
            myChart.update();
        }

        function resetStats() {
            localStorage.setItem('qrestige_stats', '{"views":0, "wa":0}');
            updateAdminStats();
        }

        // 4. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª', 'Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨', 'Ø§Ù„Ù…Ù‡ØªÙ…ÙŠÙ†', 'Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ§Øª'],
                datasets: [{
                    label: 'Ù†Ø´Ø§Ø· Ø§Ù„Ø¹Ù‚Ø§Ø±',
                    data: [0, 0, 0, 0],
                    backgroundColor: ['#1a237e', '#25D366', '#c6a700', '#ff5252'],
                    borderRadius: 10
                }]
            },
            options: { scales: { y: { beginAtZero: true } } }
        });

        // ØªØ´ØºÙŠÙ„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø© Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©
        logAction('view');
    </script>
</body>
</html>
