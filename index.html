<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØµÙŠØ¯Ø© Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† Ø§Ù„Ø°ÙƒÙŠØ© ğŸ£</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body { font-family: 'Tajawal', sans-serif; background: #222; color: white; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .trap-box { background: #333; padding: 40px; border-radius: 20px; width: 100%; max-width: 400px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 2px solid #444; }
        
        h2 { color: #4ade80; margin-top: 0; font-size: 24px; }
        p { color: #aaa; font-size: 14px; margin-bottom: 20px; }

        .toggle-container { background: #111; padding: 5px; border-radius: 50px; display: flex; margin-bottom: 20px; position: relative; }
        .toggle-btn { flex: 1; padding: 10px; border-radius: 50px; cursor: pointer; transition: 0.3s; font-weight: bold; font-size: 14px; z-index: 2; }
        .active { background: #4ade80; color: #000; box-shadow: 0 0 15px rgba(74, 222, 128, 0.4); }

        input, textarea { width: 100%; background: #222; border: 1px solid #555; padding: 15px; color: white; border-radius: 10px; margin-bottom: 10px; outline: none; box-sizing: border-box; }
        input:focus { border-color: #4ade80; }

        button { width: 100%; background: #4ade80; color: #000; padding: 15px; border: none; border-radius: 10px; font-weight: 900; font-size: 18px; cursor: pointer; margin-top: 10px; }
        button:hover { background: #22c55e; }

        #qr-result { margin-top: 30px; display: none; background: white; padding: 15px; border-radius: 15px; }
        #qrcode { display: flex; justify-content: center; }
    </style>
</head>
<body>

<div class="trap-box">
    <h2>ğŸ£ Ù…ØµÙŠØ¯Ø© Ø§Ù„Ø²Ø¨Ø§Ø¦Ù†</h2>
    <p>Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø²Ø¨ÙˆÙ† ÙŠØ±Ø§Ø³Ù„Ùƒ Ø¨Ø¶ØºØ·Ø© Ø²Ø± ÙˆØ§Ø­Ø¯Ø©</p>

    <div class="toggle-container">
        <div class="toggle-btn active" onclick="setType('wa')" id="btn-wa">ÙˆØ§ØªØ³Ø§Ø¨ (Ù„Ù„Ø¹Ø±Ø¨)</div>
        <div class="toggle-btn" onclick="setType('sms')" id="btn-sms">SMS (Ù„Ø£Ù…Ø±ÙŠÙƒØ§)</div>
    </div>

    <input type="tel" id="myPhone" placeholder="Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ (Ù…Ø¹ Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø© 966...)">
    <textarea id="preMessage" rows="3" placeholder="Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙŠ Ø³ØªØ¸Ù‡Ø± ÙÙŠ Ø¬ÙˆØ§Ù„ Ø§Ù„Ø²Ø¨ÙˆÙ† (Ù…Ø«Ù„Ø§Ù‹: Ø£Ø±ÙŠØ¯ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ Ø±Ù‚Ù… 5)"></textarea>

    <button onclick="generateTrap()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…ØµÙŠØ¯Ø© ğŸš€</button>

    <div id="qr-result">
        <div id="qrcode"></div>
        <p style="color: #333; margin: 10px 0 0; font-weight: bold; font-size: 12px;">Ø§Ù…Ø³Ø­ Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø³Ø­Ø± âœ¨</p>
    </div>
</div>

<script>
    let currentType = 'wa';

    function setType(type) {
        currentType = type;
        document.getElementById('btn-wa').classList.toggle('active', type === 'wa');
        document.getElementById('btn-sms').classList.toggle('active', type === 'sms');
        
        // ØªØºÙŠÙŠØ± Ø§Ù„ØªÙ„Ù…ÙŠØ­ Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
        const input = document.getElementById('myPhone');
        if(type === 'wa') input.placeholder = "Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ (Ù…Ø«Ø§Ù„: 9665...)";
        else input.placeholder = "Ø±Ù‚Ù… Ø¬ÙˆØ§Ù„ (Ù…Ø«Ø§Ù„: +1202...)";
    }

    function generateTrap() {
        const phone = document.getElementById('myPhone').value.replace('+', ''); // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø±Ù‚Ù…
        const msg = document.getElementById('preMessage').value;
        const qrDiv = document.getElementById("qrcode");

        if(!phone || !msg) return alert("Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø§Ù‚ØµØ© ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠ!");

        let finalLink = "";

        if(currentType === 'wa') {
            // Ø±Ø§Ø¨Ø· ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¨Ø§Ø´Ø±
            finalLink = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
        } else {
            // Ø±Ø§Ø¨Ø· SMS Ø°ÙƒÙŠ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¢ÙŠÙÙˆÙ† ÙˆØ£Ù†Ø¯Ø±ÙˆÙŠØ¯
            // Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ØºØ±ÙŠØ¨Ø© Ù‡Ù†Ø§ Ù„Ø¶Ù…Ø§Ù† Ø¹Ù…Ù„Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…ÙŠÙ†
            const ua = navigator.userAgent.toLowerCase();
            if(ua.indexOf('iphone') > -1 || ua.indexOf('ipad') > -1) {
                 finalLink = `sms:${phone}&body=${encodeURIComponent(msg)}`;
            } else {
                 finalLink = `sms:${phone}?body=${encodeURIComponent(msg)}`;
            }
        }

        // ØªÙ†Ø¸ÙŠÙ ÙˆØªÙˆÙ„ÙŠØ¯
        qrDiv.innerHTML = "";
        new QRCode(qrDiv, {
            text: finalLink,
            width: 180,
            height: 180,
            colorDark : "#000000",
            colorLight : "#ffffff",
            correctLevel : QRCode.CorrectLevel.H
        });

        document.getElementById('qr-result').style.display = 'block';
    }
</script>

</body>
</html>
