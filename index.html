<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qrestige Pro | Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --primary: #0f172a; --accent: #f59e0b; --success: #10b981; }
        * { box-sizing: border-box; font-family: 'Tajawal', sans-serif; }
        body { background: #f8fafc; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }

        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
        .admin-panel { 
            background: white; width: 100%; max-width: 650px; padding: 30px; 
            border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.05); margin-bottom: 30px;
        }
        .admin-panel h2 { color: var(--primary); margin-top: 0; border-bottom: 2px solid #f1f5f9; padding-bottom: 15px; }
        
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-group { margin-bottom: 15px; }
        .full-width { grid-column: span 2; }
        
        label { display: block; font-size: 13px; font-weight: 800; color: #475569; margin-bottom: 6px; }
        input, textarea, .file-input { 
            width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 12px; 
            outline: none; transition: 0.3s; font-size: 14px;
        }
        input:focus { border-color: var(--accent); }

        /* Ø²Ø± Ø§Ù„ØªÙˆÙ„ÙŠØ¯ */
        .btn-generate { 
            width: 100%; background: var(--primary); color: white; border: none; 
            padding: 16px; border-radius: 12px; font-weight: 900; cursor: pointer; font-size: 16px; margin-top: 10px;
        }
        .btn-generate:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù€ QR */
        .qr-wrapper { 
            display: none; margin-top: 25px; padding: 20px; border: 2px dashed var(--accent); 
            border-radius: 20px; text-align: center; background: #fffcf5;
        }
        #qrcode { display: inline-block; padding: 10px; background: white; border-radius: 10px; }

        /* Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¬ÙˆØ§Ù„ */
        .phone-mockup { 
            width: 100%; max-width: 360px; border: 10px solid #1e293b; border-radius: 40px; 
            background: white; position: relative; overflow: hidden; height: 600px; box-shadow: 0 30px 60px rgba(0,0,0,0.2);
        }
        .mock-screen { height: 100%; overflow-y: auto; scrollbar-width: none; }
    </style>
</head>
<body>

    <div class="admin-panel">
        <h2>ğŸ—ï¸ Ù„ÙˆØ­Ø© Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø± Ø¬Ø¯ÙŠØ¯</h2>
        
        <div class="form-grid">
            <div class="form-group full-width">
                <label>ØµÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±</label>
                <input type="file" id="in-img" accept="image/*" onchange="previewImage(this)">
            </div>

            <div class="form-group">
                <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                <input type="text" id="in-title" placeholder="ÙÙŠÙ„Ø§ Ù…ÙˆØ¯Ø±Ù†..." oninput="sync()">
            </div>

            <div class="form-group">
                <label>Ø§Ù„Ø³Ø¹Ø± (Ø±.Ø³)</label>
                <input type="text" id="in-price" placeholder="2,500,000" oninput="sync()">
            </div>

            <div class="form-group full-width">
                <label>Ø§Ù„ÙˆØµÙ</label>
                <textarea id="in-desc" rows="2" placeholder="Ø§ÙƒØªØ¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø§Ø± Ù‡Ù†Ø§..." oninput="sync()"></textarea>
            </div>

            <div class="form-group full-width">
                <label>Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</label>
                <input type="tel" id="in-phone" placeholder="9665xxxxxxxx" oninput="sync()">
            </div>
        </div>

        <button class="btn-generate" onclick="makeQR()">ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø§Ø± (QR Code) ğŸš€</button>

        <div id="qr-area" class="qr-wrapper">
            <div id="qrcode"></div>
            <p style="font-weight: 800; color: var(--primary); margin: 10px 0 0;">ÙƒÙˆØ¯ Ø§Ù„Ø¹Ù‚Ø§Ø± Ø¬Ø§Ù‡Ø²!</p>
            <p style="font-size: 11px; color: #64748b;">Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ùˆ ØµÙˆØ± Ø§Ù„Ø´Ø§Ø´Ø© Ù„Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ù„Ù„Ø²Ø¨ÙˆÙ†</p>
        </div>
    </div>

    <p style="color: #94a3b8; font-weight: 800; font-size: 12px; margin-bottom: 15px;">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø­ÙŠØ© Ù„Ù…Ø§ Ø³ÙŠØ±Ø§Ù‡ Ø§Ù„Ø²Ø¨ÙˆÙ†</p>
    <div class="phone-mockup">
        <div class="mock-screen">
            <div id="p-img" style="height: 220px; background: #e2e8f0 center/cover;"></div>
            <div style="padding: 20px;">
                <div id="p-price" style="color: var(--accent); font-size: 26px; font-weight: 900;">0 Ø±.Ø³</div>
                <h3 id="p-title" style="margin: 5px 0; color: var(--primary);">Ø§Ø³Ù… Ø§Ù„Ø¹Ù‚Ø§Ø±</h3>
                <p id="p-desc" style="color: #64748b; font-size: 14px; line-height: 1.6;">ÙˆØµÙ Ø§Ù„Ø¹Ù‚Ø§Ø± Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø¨Ø§Ù„ØªÙØµÙŠÙ„...</p>
                
                <div style="background: #f8fafc; display: flex; justify-content: space-around; padding: 15px; border-radius: 15px; margin: 20px 0;">
                    <div style="text-align:center;"><b style="display:block; font-size:18px;">124</b><span style="font-size:10px; color:#64748b;">Ù…Ø´Ø§Ù‡Ø¯Ø©</span></div>
                    <div style="text-align:center;"><b style="display:block; font-size:18px; color:var(--success);">18</b><span style="font-size:10px; color:#64748b;">Ù…Ù‡ØªÙ…</span></div>
                </div>

                <div style="background: var(--success); color: white; text-align: center; padding: 15px; border-radius: 12px; font-weight: 900; box-shadow: 0 10px 20px rgba(16, 185, 129, 0.2);">ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</div>
            </div>
        </div>
    </div>

    <script>
        let qrcode = null;

        // ÙˆØ¸ÙŠÙØ© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØµÙˆØ±Ø© ÙˆØªØ­Ù…ÙŠÙ„Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
        function previewImage(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('p-img').style.backgroundImage = `url('${e.target.result}')`;
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        // Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø­Ø¸ÙŠØ§Ù‹
        function sync() {
            document.getElementById('p-title').innerText = document.getElementById('in-title').value || "Ø§Ø³Ù… Ø§Ù„Ø¹Ù‚Ø§Ø±";
            document.getElementById('p-price').innerText = (document.getElementById('in-price').value || "0") + " Ø±.Ø³";
            document.getElementById('p-desc').innerText = document.getElementById('in-desc').value || "ÙˆØµÙ Ø§Ù„Ø¹Ù‚Ø§Ø± Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§...";
        }

        // ÙˆØ¸ÙŠÙØ© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯ (ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡Ø§ Ù„ØªÙƒÙˆÙ† Ø¯Ù‚ÙŠÙ‚Ø©)
        function makeQR() {
            const title = document.getElementById('in-title').value;
            const qrDiv = document.getElementById("qrcode");
            
            if(!title) {
                alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø± Ø£ÙˆÙ„Ø§Ù‹");
                return;
            }

            // Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¥Ù† ÙˆØ¬Ø¯
            qrDiv.innerHTML = "";
            
            // Ø§Ù„Ø±Ø§Ø¨Ø· (Ù‡Ù†Ø§ Ù†Ø¶Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø°ÙŠ Ø³ÙŠÙØªØ­Ù‡ Ø§Ù„Ø²Ø¨ÙˆÙ†)
            const dataToEncode = window.location.href + "?id=" + Date.now();

            qrcode = new QRCode(qrDiv, {
                text: dataToEncode,
                width: 180,
                height: 180,
                colorDark : "#0f172a",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.H
            });

            document.getElementById('qr-area').style.display = 'block';
        }
    </script>
</body>
</html>
