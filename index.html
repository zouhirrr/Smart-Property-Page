<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qrestige Pro | Ù…ÙˆÙ„Ø¯ Ø¹Ù‚Ø§Ø±Ø§ØªÙƒ Ø§Ù„Ø°ÙƒÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --primary: #1e293b; --accent: #f59e0b; --success: #10b981; }
        * { box-sizing: border-box; font-family: 'Tajawal', sans-serif; }
        body { background: #f1f5f9; margin: 0; display: flex; flex-direction: column; align-items: center; padding: 20px; }

        /* Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .admin-panel { 
            background: white; width: 100%; max-width: 600px; padding: 30px; 
            border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); margin-bottom: 30px;
        }
        .admin-panel h2 { color: var(--primary); margin-top: 0; display: flex; align-items: center; gap: 10px; }
        
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 13px; font-weight: 700; color: #64748b; margin-bottom: 5px; }
        input, textarea { 
            width: 100%; padding: 12px; border: 1.5px solid #e2e8f0; border-radius: 10px; 
            outline: none; transition: 0.3s; font-size: 15px;
        }
        input:focus { border-color: var(--accent); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù€ QR ÙƒÙˆØ¯ */
        .qr-result { 
            background: #fff; padding: 20px; border-radius: 15px; text-align: center; 
            display: none; border: 2px dashed var(--accent); margin-top: 20px;
        }
        #qrcode { display: inline-block; padding: 10px; background: white; }

        .btn-generate { 
            width: 100%; background: var(--primary); color: white; border: none; 
            padding: 15px; border-radius: 12px; font-weight: 900; cursor: pointer; font-size: 16px;
        }
        .btn-generate:hover { background: #0f172a; }

        /* Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¬ÙˆØ§Ù„ */
        .preview-label { font-size: 12px; color: #94a3b8; text-transform: uppercase; margin-bottom: 10px; letter-spacing: 1px; }
    </style>
</head>
<body>

    <div class="admin-panel">
        <h2>ğŸ› ï¸ Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±</h2>
        
        <div class="form-group">
            <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø± (Ù…Ø«Ù„Ø§Ù‹: ÙÙŠÙ„Ø§ Ù…ÙˆØ¯Ø±Ù† Ù„Ù„Ø¨ÙŠØ¹)</label>
            <input type="text" id="in-title" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù‡Ù†Ø§..." oninput="updatePreview()">
        </div>

        <div class="form-group">
            <label>Ø§Ù„Ø³Ø¹Ø± (Ø±.Ø³)</label>
            <input type="text" id="in-price" placeholder="Ù…Ø«Ù„Ø§Ù‹: 2,500,000" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <label>ÙˆØµÙ Ù…Ø®ØªØµØ±</label>
            <textarea id="in-desc" rows="3" placeholder="Ø§ÙƒØªØ¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø§Ø±..." oninput="updatePreview()"></textarea>
        </div>

        <div class="form-group">
            <label>Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ (Ø¨Ø¯ÙˆÙ† +)</label>
            <input type="tel" id="in-phone" placeholder="9665xxxxxxxx" oninput="updatePreview()">
        </div>

        <button class="btn-generate" onclick="generateQR()">ØªÙˆÙ„ÙŠØ¯ QR ÙƒÙˆØ¯ Ù„Ù„Ø²Ø¨ÙˆÙ† ğŸš€</button>

        <div id="qr-area" class="qr-result">
            <p style="font-weight: 900; margin-top: 0;">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø±Ø³Ø§Ù„! âœ…</p>
            <div id="qrcode"></div>
            <p style="font-size: 12px; color: #666;">Ø§Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ø²Ø¨ÙˆÙ† Ù…Ø³Ø­ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±</p>
            <button onclick="window.print()" style="background:none; border:1px solid #ddd; padding:5px 10px; cursor:pointer; border-radius:5px;">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙƒÙˆØ¯</button>
        </div>
    </div>

    <div class="preview-label">Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù…Ø§ Ø³ÙŠØ±Ø§Ù‡ Ø§Ù„Ø²Ø¨ÙˆÙ† ğŸ‘‡</div>
    <div id="client-view" style="width: 100%; max-width: 400px; border: 8px solid #000; border-radius: 30px; overflow: hidden; background: white; box-shadow: 0 20px 50px rgba(0,0,0,0.2);">
        <div style="height: 180px; background: #ddd center/cover; background-image: url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=500');"></div>
        <div style="padding: 20px;">
            <div id="p-price" style="color:var(--accent); font-size: 24px; font-weight: 900;">2,500,000 Ø±.Ø³</div>
            <h3 id="p-title" style="margin: 5px 0;">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±</h3>
            <p id="p-desc" style="color: #666; font-size: 13px;">ÙˆØµÙ Ø§Ù„Ø¹Ù‚Ø§Ø± ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§...</p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: #f8fafc; padding: 10px; border-radius: 10px; margin: 15px 0;">
                <div style="text-align: center;"><div style="font-weight: 900;" id="v-count">1</div><span style="font-size: 10px;">Ù…Ø´Ø§Ù‡Ø¯Ø©</span></div>
                <div style="text-align: center;"><div style="font-weight: 900;">0</div><span style="font-size: 10px;">Ù…Ù‡ØªÙ…</span></div>
            </div>
            
            <div style="background: var(--success); color: white; text-align: center; padding: 12px; border-radius: 10px; font-weight: 900;">ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</div>
        </div>
    </div>

    <script>
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ù„Ø­Ø¸ÙŠØ§Ù‹
        function updatePreview() {
            document.getElementById('p-title').innerText = document.getElementById('in-title').value || "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±";
            document.getElementById('p-price').innerText = (document.getElementById('in-price').value || "0") + " Ø±.Ø³";
            document.getElementById('p-desc').innerText = document.getElementById('in-desc').value || "ÙˆØµÙ Ø§Ù„Ø¹Ù‚Ø§Ø± ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§...";
        }

        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù€ QR ÙƒÙˆØ¯
        function generateQR() {
            const qrContainer = document.getElementById("qrcode");
            qrContainer.innerHTML = ""; // Ù…Ø³Ø­ Ø§Ù„Ù‚Ø¯ÙŠÙ…
            
            // Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø°ÙŠ Ø³ÙŠÙØªØ­Ù‡ Ø§Ù„Ø²Ø¨ÙˆÙ† (ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø³ÙŠÙƒÙˆÙ† Ø±Ø§Ø¨Ø· Ù…ÙˆÙ‚Ø¹Ùƒ)
            // Ø³Ù†Ø¶Ø¹ Ù‡Ù†Ø§ Ø±Ø§Ø¨Ø·Ø§Ù‹ ØªØ¬Ø±ÙŠØ¨ÙŠØ§Ù‹ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±
            const baseUrl = window.location.href.split('?')[0];
            const queryParams = `?t=${encodeURIComponent(document.getElementById('in-title').value)}&p=${document.getElementById('in-price').value}`;
            
            new QRCode(qrContainer, {
                text: baseUrl + queryParams,
                width: 180,
                height: 180,
                colorDark : "#1e293b",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.H
            });

            document.getElementById('qr-area').style.display = 'block';
            window.scrollTo(0, document.body.scrollHeight);
        }

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª
        let count = Math.floor(Math.random() * 50) + 1;
        document.getElementById('v-count').innerText = count;
    </script>
</body>
</html>
